version: 2

models:
  - name: polymarket_polygon_market_categories
    meta:
      blockchain: polygon
      sector: prediction_markets
      project: polymarket
      contributors: tomfutago
    config:
      tags: ['polygon','prediction_markets','polymarket','markets']
    description: "Polymarket: market categories"
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - market_id

  - name: polymarket_polygon_markets
    meta:
      blockchain: polygon
      sector: prediction_markets
      project: polymarket
      contributors: tomfutago
    config:
      tags: ['polygon','prediction_markets','polymarket','markets']
    description: "Polymarket: markets"
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - question_id

  - name: polymarket_polygon_market_outcomes
    meta:
      blockchain: polygon
      sector: prediction_markets
      project: polymarket
      contributors: tomfutago
    config:
      tags: ['polygon','prediction_markets','polymarket','markets']
    description: "Polymarket: market outcomes"
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - question_id

  - name: polymarket_polygon_base_market_conditions
    meta:
      blockchain: polygon
      sector: prediction_markets
      project: polymarket
      contributors: tomfutago
    config:
      tags: ['polygon','prediction_markets','polymarket','markets']
    description: "Polymarket: market conditions (helper table)"
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - condition_id

  - name: polymarket_polygon_base_ctf_tokens
    meta:
      blockchain: polygon
      sector: prediction_markets
      project: polymarket
      contributors: tomfutago
    config:
      tags: ['polygon','prediction_markets','polymarket','markets']
    description: "Polymarket: CTF tokens (helper table)"
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - condition_id
            - token0
            - token1

  - name: polymarket_polygon_market_conditions
    meta:
      blockchain: polygon
      sector: prediction_markets
      project: polymarket
      contributors: tomfutago
    config:
      tags: ['polygon','prediction_markets','polymarket','markets']
    description: "Polymarket: market conditions"
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - question_id
            - condition_id
            - condition_token

  - name: polymarket_polygon_market_trades
    meta:
      blockchain: polygon
      sector: prediction_markets
      project: polymarket
      contributors: tomfutago
    config:
      tags: ['polygon','prediction_markets','polymarket','markets']
    description: "Polymarket: market conditions"
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - block_time
            - asset_id
            - evt_index
            - tx_hash
